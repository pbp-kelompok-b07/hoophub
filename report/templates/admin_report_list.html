{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Admin - Reports</title>
{% endblock meta %}

{% block content %}
{% include 'navbar.html' %}
<main>
    <div class="px-[40px]">
        <h2 style="padding: 0px 50px 0px 50px; font-weight: 700; color: #000; font-size:20px">
            All Submitted Reports
        </h2>
        <hr style="border: none; border-top: 2px dashed #005F73; margin: 10px 50px 30px 50px;">

        {% if report_list %}
            {% for report in report_list %}
                <div 
                    onclick="window.location.href='{% url 'report:admin_report_detail' report.id %}'" 
                    style="background-color: #E0E0E0; border-radius: 16px; padding: 20px 30px; margin: 0 auto 20px auto; width: 95%; height: 200px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;"
                    onmouseover="this.style.transform='scale(1.02)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.2)';"
                    onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none';"
                >
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h3 style="font-weight: 700;">{{ report.title }}</h3>
                            <p style="color: #4A4A4A;">{{ report.description|truncatewords:20 }}</p>
                            <p class="text-sm text-gray-600 mt-2">
                                Reporter: <strong>{{ report.reporter.username }}</strong> â€¢ 
                                Status: 
                                <span class="
                                  {% if report.status == 'pending' %}text-yellow-700
                                  {% elif report.status == 'resolved' %}text-green-700
                                  {% elif report.status == 'rejected' %}text-red-700{% endif %}
                                ">
                                  {{ report.status|title }}
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p style="padding: 0px 50px;color: #666;">No reports submitted yet.</p>
        {% endif %}
    </div>
</main> 
{% endblock content %}